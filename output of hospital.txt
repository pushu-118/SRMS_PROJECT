#include <stdio.h>
#include <string.h>
#define MAX 50
typedef struct {
    char name[30];
    char ailment[30];
    char priority[15]; 
    int priorityValue; 
} Patient;
Patient queue[MAX];
int size = 0;
void addPatient() {
    if (size >= MAX) {
        printf("\nQueue is full!\n");
        return;
    }
    Patient p;
    printf("\nEnter patient name: ");
    scanf("%s", p.name);
    printf("Enter ailment: ");
    scanf("%s", p.ailment);
    printf("Enter priority (Emergency/Normal): ");
    scanf("%s", p.priority);
    if (strcmp(p.priority, "Emergency") == 0 || strcmp(p.priority, "emergency") == 0)
        p.priorityValue = 2;
    else
        p.priorityValue = 1;
    queue[size++] = p;
    for (int i = 0; i < size - 1; i++) {
        for (int j = 0; j < size - i - 1; j++) {
            if (queue[j].priorityValue < queue[j+1].priorityValue) {
                Patient temp = queue[j];
                queue[j] = queue[j+1];
                queue[j+1] = temp;
            }
        }
    }

    printf("\nPatient added successfully!\n");
}
void treatPatient() {
    if (size == 0) {
        printf("\nNo patients to treat!\n");
        return;
    }

    Patient p = queue[0];
    printf("\nTreating Patient: %s (%s)\n", p.name, p.priority);
    for (int i = 0; i < size - 1; i++)
        queue[i] = queue[i+1];
    size--;
}
void displayQueue() {
    if (size == 0) {
        printf("\nQueue is empty!\n");
        return;
    }
    printf("\n--- Current Queue ---\n");
    for (int i = 0; i < size; i++) {
        printf("%d. %s - %s - %s\n", 
               i+1, queue[i].name, queue[i].ailment, queue[i].priority);
    }
}
int main() {
    int choice;
    printf("\n=== HOSPITAL PRIORITY QUEUE SYSTEM ===\n");
    while (1) {
        printf("\n1. Add Patient");
        printf("\n2. Treat Patient");
        printf("\n3. Display Queue");
        printf("\n4. Exit");
        printf("\nEnter choice: ");
        scanf("%d", &choice);
        switch (choice) {
            case 1: addPatient(); break;
            case 2: treatPatient(); break;
            case 3: displayQueue(); break;
            case 4: return 0;
            default: printf("\nInvalid choice!\n");
        }
    }
    return 0;
}